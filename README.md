### B站弹幕爬虫简介
* B站BV视频弹幕文件爬取入库
* 只能爬取BV号对应的视频的弹幕
* 弹幕文件是b站提供的弹幕xml文件

### 爬取工具
* selenium
* chrome driver
* jsoup
* sax

### 弹幕爬取流程

+--------------------------------------------------------------------------------------------------------------------------------------+
|                                                                                                                                      |
|                                                                                                                                      |
|         +--------------------+    +-----------------------+    +----------------------------------+    +------------------+          |
|         |                    |    |                       |    |                                  |    |                  |          |
|         |    b站相关网页       +---->   解析出网页中的BV号     +---->     解析出每个BV号对应的弹幕文件列表   +---->     存入磁盘      |          |
|         |                    |    |                       |    |                                  |    |                  |          |
|         +--------------------+    +-----------------------+    +----------------------------------+    +---------+--------+          |
|                                                                                                                  |                   |
|                                                              +---------------------------------------------------+                   |
|                                                              |                     生产File到kafka                                    |
|                                                              |                                                                       |
|                                               +--------------v--------------+                                                        |
|                                               |                             |                                                        |
|                                               |            kafka            |                                                        |
|                                               |                             |                                                        |
|                                               +--------------+--------------+                                                        |
|                                                              |                                                                       |
|                   +------------------------------------------+                                                                       |
|                   |                                                                                                                  |
|           +-------v--------+       +-------------------+       +-----------------------+        +------------------------+           |
|           |                |       |                   |       |                       |        |                        |           |
|           |  消费File队列    +------->   去重等过滤操作    +------->      解析弹幕文件        +-------->  删除磁盘中的弹幕文件     |           |
|           |                |       |                   |       |                       |        |                        |           |
|           +----------------+       +-------------------+       +----------+------------+        +------------------------+           |
|                                                                           |                                                          |
|                                                                           |                                                          |
|                                                                           |                                                          |
|                                                                           |                                                          |
|                                                                           |                                                          |
|                                                                 +---------v-----------+                                              |
|                                                                 |                     |                                              |
|                                                                 |    elasticsearch    |                                              |
|                                                                 |                     |                                              |
|                                                                 +---------------------+                                              |
|                                                                                                                                      |
+--------------------------------------------------------------------------------------------------------------------------------------+





### 后续改进

* 获取BV视频的标签 https://api.bilibili.com/x/web-interface/view/detail/tag?aid=209903571







